{{ define "main" }}
    {{ $context := . }}
    
    {{ with .Content }}
        {{ partial "single_article.html" $context }}
    {{ else }}
    <section class="archives-wrap">
        <div class="archive-category-wrap">
            shellming's note
        </div>
        <div class="archives">
            {{ $paginator := .Paginate (where (where .Site.Pages "Type" "in" site.Params.mainSections) "Kind" "page")  }}
            {{ range $paginator.Pages}}
                {{ .Render "summary" }} 
            {{ end }}
        </div>
    </section>
    {{ partial "pagination" . }}
    {{ end }}
{{ end }}